(function(){"use strict";var e=this;var t,n;if(typeof exports!=="undefined"){t=require("underscore");n=require("backbone");if(typeof module!=="undefined"&&module.exports){module.exports=n}exports=n}else{t=e._;n=e.Backbone}var r=n.Model.prototype.set;n.Model=n.Model.extend({set:function(e,n,i){var s,o,u;if(t.isObject(e)||e===null){s=e;i=n}else{s={};s[e]=n}if(this.nested){if(this.nested_init){for(o in this.nested){if(s.hasOwnProperty(o)){this.get(o).set(s[o],t.clone(i));delete s[o]}}}else{this.nested_init=true;for(o in this.nested){u=this.nested[o];s[o]=new u(s[o],t.clone(i))}}}return r.call(this,s,i)}})}).call(this)